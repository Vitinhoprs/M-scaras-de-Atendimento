<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Formul√°rio de Atendimento</title>
  <script src="https://unpkg.com/imask"></script>
  <style>
    body { margin:0; font-family:'Segoe UI',sans-serif; display:flex; height:100vh; }
    .sidebar { width:220px; background:#1e3a8a; color:#fff; display:flex; flex-direction:column; }
    .sidebar h2 { margin:0; padding:16px; background:#1e40af; text-align:center; font-size:1.2rem; }
    .sidebar ul { list-style:none; margin:0; padding:0; flex:1; overflow-y:auto; }
    .sidebar li { padding:12px 16px; cursor:pointer; transition:background .2s; text-transform:uppercase; }
    .sidebar li:hover, .sidebar li.active { background:#3b82f6; }
    .main { flex:1; background:#f3f4f6; padding:24px; overflow-y:auto; }
    .form-container { background:#fff; padding:24px; border-radius:8px; box-shadow:0 2px 8px rgba(0,0,0,.1); max-width:900px; margin:0 auto; }
    .controls { margin-bottom:16px; }
    .controls label { display:block; margin-bottom:6px; font-weight:600; color:#1e3a8a; }
    select { width:100%; padding:8px; border:1px solid #cbd5e1; border-radius:4px; background:#f9fafb; }
    .fields-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(200px,1fr)); gap:12px; }
    .field { display:flex; flex-direction:column; }
    .field label { margin-bottom:4px; font-size:.95rem; color:#334155; }
    .field input, .field textarea { padding:8px; border:1px solid #cbd5e1; border-radius:4px; background:#f9fafb; font-size:.95rem; }
    .field textarea { resize:vertical; }
    #preview { width:100%; margin-top:24px; padding:8px; height:140px; border:1px solid #cbd5e1; border-radius:4px; background:#f9fafb; font-family:monospace; }
    .buttons { margin-top:16px; display:flex; justify-content:flex-end; gap:12px; }
    button { padding:10px 16px; background:#1e3a8a; color:#fff; border:none; border-radius:4px; cursor:pointer; font-weight:600; transition:background .2s; }
    button:disabled { background:#94a3b8; cursor:not-allowed; }
    button:hover:not(:disabled) { background:#163a7c; }
    #toast { position:fixed; bottom:24px; right:24px; background:#1e3a8a; color:#fff; padding:12px 16px; border-radius:4px; opacity:0; display:none; transition:opacity .3s; }
    .static-section { margin-top:24px; }
    .static-section h3 { color:#1e3a8a; margin-bottom:12px; }
    .static-section ul { list-style:none; padding:0; }
    .static-section li { background:#fff; padding:12px; margin-bottom:8px; border-radius:4px; box-shadow:0 1px 4px rgba(0,0,0,.05); }
  </style>
</head>
<body>
  <div class="sidebar">
    <h2>M√°scaras/Links</h2>
    <ul id="menu">
      <li data-cat="SAC">SAC</li>
      <li data-cat="Suporte">SUPORTE</li>
      <li data-cat="Reten√ß√£o">RETEN√á√ÉO</li>
      <li data-cat="Transfer√™ncias">TRANSFER√äNCIAS</li>
      <li data-cat="Lojas f√≠sicas">LOJAS F√çSICAS</li>
      <li data-cat="Telefones / Sites / Emails">TELEFONES/SITES/EMAILS</li>
    </ul>
  </div>
  <div class="main">
    <div class="form-container">
      <div class="controls">
        <label for="template">Template</label>
        <select id="template" disabled><option value="">‚Äî selecione ‚Äî</option></select>
      </div>
      <form id="form-campos"></form>
      <textarea id="preview" readonly placeholder="Preview e texto copiado aparecer√£o aqui..."></textarea>
      <div class="buttons">
        <button id="btnClear" disabled>Limpar</button>
        <button id="btnCopy" disabled>Copiar</button>
      </div>
    </div>
    <div id="toast">Copiado com sucesso!</div>
  </div>
  <script src="https://unpkg.com/imask"></script>
  <script>
    const config = {
      "SAC": {
        "1. Segunda via do boleto ‚Äî Boleto encaminhado": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"clientName", label:"Nome do cliente" },
          { type:"textarea", id:"description", label:"Descri√ß√£o", default:"Cliente solicitou boleto com vencimento dia XX, enviado por e-mail." },
          { type:"textarea", id:"additional", label:"Al√©m disso, ocorreu" },
          { type:"textarea", id:"example", label:"Exemplo", default:"Cliente questionou valores; orientado sobre detalhamento." }
        ],
        "1. Segunda via do boleto ‚Äî Boleto desatualizado": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"clientName", label:"Nome do cliente" },
          { type:"textarea", id:"description", label:"Descri√ß√£o", default:"Cliente n√£o consegue pagar boleto vencido; enviado novo com vencimento em __/__/____." },
          { type:"textarea", id:"additional", label:"Al√©m disso, ocorreu" },
          { type:"textarea", id:"example", label:"Exemplo", default:"Cliente orientado sobre procedimentos." }
        ],
        "Erro no envio": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"clientName", label:"Nome do cliente" },
          { type:"textarea", id:"description", label:"Descri√ß√£o", default:"Sistema indispon√≠vel; orientado gerar boleto pelo site ou app." },
          { type:"textarea", id:"additional", label:"Al√©m disso, ocorreu" },
          { type:"textarea", id:"example", label:"Exemplo", default:"Cliente orientado sobre procedimentos." }
        ],
        "2. Baixa no pagamento ‚Äî Dentro do prazo": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"clientName", label:"Nome do cliente" },
          { type:"textarea", id:"description", label:"Descri√ß√£o", default:"Baixa pode levar at√© 48 h √∫teis ap√≥s pagamento." },
          { type:"textarea", id:"additional", label:"Al√©m disso, ocorreu" },
          { type:"textarea", id:"example", label:"Exemplo", default:"Cliente orientado sobre prazos." }
        ],
        "2. Baixa no pagamento ‚Äî Necess√°rio comprovante": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"clientName", label:"Nome do cliente" },
          { type:"textarea", id:"description", label:"Descri√ß√£o", default:"Pagamento h√° mais de 48 h sem registro; solicitar comprovante." },
          { type:"textarea", id:"additional", label:"Al√©m disso, ocorreu" },
          { type:"textarea", id:"example", label:"Exemplo", default:"Cliente orientado a enviar comprovante." }
        ],
        "3. Mudan√ßa de plano ‚Äî Dispon√≠vel": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"clientName", label:"Nome do cliente" },
          { type:"textarea", id:"description", label:"Descri√ß√£o", default:"Altera√ß√£o para [novo plano] com fideliza√ß√£o de 12 meses." },
          { type:"textarea", id:"additional", label:"Al√©m disso, ocorreu" },
          { type:"textarea", id:"example", label:"Exemplo", default:"Cliente orientado sobre multa contratual." }
        ],
        "3. Mudan√ßa de plano ‚Äî N√£o dispon√≠vel": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"clientName", label:"Nome do cliente" },
          { type:"textarea", id:"description", label:"Descri√ß√£o", default:"Bloqueado por boletos em aberto; orientar regulariza√ß√£o." },
          { type:"textarea", id:"additional", label:"Al√©m disso, ocorreu" },
          { type:"textarea", id:"example", label:"Exemplo", default:"Cliente orientado retornar ap√≥s quita√ß√£o." }
        ],
        "4. Mudan√ßa de endere√ßo": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"clientName", label:"Nome do cliente" },
          { id:"cpf", label:"CPF", mask:"000.000.000-00" },
          { id:"dateOfBirth", label:"Data de nascimento", mask:"00/00/0000" },
          { id:"contactPhone", label:"Telefone de contato", mask:"(00) 00000-0000" },
          { id:"email", label:"E-mail" },
          { id:"motherName", label:"Nome da m√£e" },
          { id:"plan", label:"Plano" },
          { id:"oldAddress", label:"Endere√ßo antigo" },
          { id:"newAddress", label:"Endere√ßo novo" },
          { id:"referencePoint", label:"Ponto de refer√™ncia" },
          { type:"textarea", id:"additional", label:"Al√©m disso, ocorreu" },
          { type:"textarea", id:"example", label:"Exemplo", default:"Cliente orientado sobre prazos." }
        ],
        "5. Mudan√ßa de ponto": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"clientName", label:"Nome do cliente" },
          { id:"contactPhone", label:"Telefone de contato", mask:"(00) 00000-0000" },
          { id:"cpf", label:"CPF", mask:"000.000.000-00" },
          { id:"plan", label:"Plano" },
          { id:"planValue", label:"Valor do plano (R$)", mask:"#.##0,00", lazy:false },
          { id:"feeValue", label:"Valor da taxa (R$)", mask:"#.##0,00", lazy:false },
          { id:"oldAddress", label:"Endere√ßo antigo" },
          { id:"newAddress", label:"Endere√ßo novo" },
          { id:"referencePoint", label:"Ponto de refer√™ncia" },
          { type:"textarea", id:"additional", label:"Al√©m disso, ocorreu" },
          { type:"textarea", id:"example", label:"Exemplo", default:"Cliente orientado sobre servi√ßos." }
        ],
        "6. Reativa√ß√£o ‚Äî Necess√°rio aguardar": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"clientName", label:"Nome do cliente" },
          { type:"textarea", id:"description", label:"Descri√ß√£o", default:"Negocia√ß√£o de d√©bitos; baixa em at√© 48 h √∫teis." },
          { type:"textarea", id:"additional", label:"Al√©m disso, ocorreu" },
          { type:"textarea", id:"example", label:"Exemplo", default:"Cliente orientado sobre prazos." }
        ],
        "6. Reativa√ß√£o ‚Äî Feita": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"clientName", label:"Nome do cliente" },
          { type:"textarea", id:"description", label:"Descri√ß√£o", default:"PPPoE reativado; conex√£o normalizada." },
          { type:"textarea", id:"additional", label:"Al√©m disso, ocorreu" },
          { type:"textarea", id:"example", label:"Exemplo", default:"Cliente orientado sobre testes." }
        ],
        "7. Ajuste anual de valores": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"clientName", label:"Nome do cliente" },
          { type:"textarea", id:"description", label:"Descri√ß√£o", default:"Reajuste ANATEL ap√≥s 12 meses de contrato." },
          { type:"textarea", id:"additional", label:"Al√©m disso, ocorreu" },
          { type:"textarea", id:"example", label:"Exemplo", default:"Cliente orientado sobre valores." }
        ],
        "8. Plano suspenso / Velocidade reduzida": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"clientName", label:"Nome do cliente" },
          { type:"textarea", id:"description", label:"Descri√ß√£o", default:"Suspens√£o ou redu√ß√£o por boleto em aberto." },
          { type:"textarea", id:"additional", label:"Al√©m disso, ocorreu" },
          { type:"textarea", id:"example", label:"Exemplo", default:"Cliente orientado sobre resolu√ß√µes." }
        ],
        "9. Negocia√ß√£o": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"clientName", label:"Nome do cliente" },
          { type:"textarea", id:"description", label:"Descri√ß√£o", default:"Negocia√ß√£o realizada; boleto enviado." },
          { type:"textarea", id:"additional", label:"Al√©m disso, ocorreu" },
          { type:"textarea", id:"example", label:"Exemplo", default:"Cliente orientado sobre pagamento." }
        ],
        "9. Renegocia√ß√£o": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"clientName", label:"Nome do cliente" },
          { type:"textarea", id:"description", label:"Descri√ß√£o", default:"Renegocia√ß√£o feita; plano ajustado." },
          { type:"textarea", id:"additional", label:"Al√©m disso, ocorreu" },
          { type:"textarea", id:"example", label:"Exemplo", default:"Cliente orientado sobre condi√ß√µes." }
        ],
        "10. Habilita√ß√£o provis√≥ria ‚Äî Dispon√≠vel": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"clientName", label:"Nome do cliente" },
          { type:"textarea", id:"description", label:"Descri√ß√£o", default:"Habilita√ß√£o provis√≥ria de 4 dias corridos." },
          { type:"textarea", id:"attention", label:"Aten√ß√£o", default:"‚Ä¢ 06 dias: cobran√ßa;\n‚Ä¢ 16 dias: redu√ß√£o;\n‚Ä¢ 46 dias: suspens√£o;\n‚Ä¢ 120 dias: cancelamento." },
          { type:"textarea", id:"additional", label:"Al√©m disso, ocorreu" },
          { type:"textarea", id:"example", label:"Exemplo", default:"Cliente orientado sobre prazos." }
        ],
        "10. Habilita√ß√£o provis√≥ria ‚Äî N√£o dispon√≠vel": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"clientName", label:"Nome do cliente" },
          { type:"textarea", id:"description", label:"Descri√ß√£o", default:"N√£o dispon√≠vel em per√≠odo recente." },
          { type:"textarea", id:"additional", label:"Al√©m disso, ocorreu" },
          { type:"textarea", id:"example", label:"Exemplo", default:"Cliente orientado sobre alternativa." }
        ],
        "11. A√ß√£o freezing ‚Äî Emiss√£o de 2¬™ via boleto": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"clientName", label:"Nome do cliente" },
          { type:"textarea", id:"description", label:"Descri√ß√£o", default:"Freezing: emitir 2¬™ via boleto." },
          { type:"textarea", id:"additional", label:"Al√©m disso, ocorreu" },
          { type:"textarea", id:"example", label:"Exemplo", default:"Cliente orientado sobre pagamento." }
        ]
      },
      "Suporte": {
        "1. Massiva na regi√£o": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"clientName", label:"Nome do cliente" },
          { type:"textarea", id:"description", label:"Descri√ß√£o", default:"Falta de conex√£o em massa; manuten√ß√£o prevista." },
          { type:"textarea", id:"additional", label:"Al√©m disso, ocorreu" },
          { type:"textarea", id:"example", label:"Exemplo", default:"Cliente orientado sobre prazos." }
        ],
        "2. Vincula√ß√£o sem sucesso/LOS Vermelha": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"clientName", label:"Nome do cliente" },
          { id:"clientCode", label:"C√≥d. do Cliente" },
          { id:"nvfCode", label:"C√≥d. NVF" },
          { id:"whatsappPhone", label:"WhatsApp", mask:"(00) 00000-0000" },
          { type:"textarea", id:"procedureDetails", label:"Procedimento Realizado", default:"LOS vermelha; testes sem normaliza√ß√£o." },
          { type:"radio", id:"clientStatus", label:"Status do cliente", options:["Conectado","Desconectado"] },
          { id:"address", label:"Endere√ßo completo" },
          { id:"referencePoint", label:"Ponto de refer√™ncia" },
          { type:"textarea", id:"additional", label:"Al√©m disso, ocorreu" },
          { type:"textarea", id:"example", label:"Exemplo", default:"Cliente orientado sobre procedimentos." }
        ],
        "3. Vincula√ß√£o com sucesso": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"clientName", label:"Nome do cliente" },
          { type:"textarea", id:"description", label:"Descri√ß√£o", default:"Conex√£o normalizada ap√≥s testes." },
          { type:"textarea", id:"additional", label:"Al√©m disso, ocorreu" },
          { type:"textarea", id:"example", label:"Exemplo", default:"Cliente orientado sobre procedimentos." }
        ],
        "4. Lentid√£o": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"clientName", label:"Nome do cliente" },
          { type:"textarea", id:"description", label:"Descri√ß√£o", default:"Conex√£o muito lenta; n√£o atinge velocidade contratada." },
          { type:"radio", id:"clientStatus", label:"Status do cliente", options:["Conectado","Desconectado"] },
          { id:"clientCode", label:"C√≥d. do Cliente" },
          { id:"nvfCode", label:"C√≥d. NVF" },
          { id:"whatsappPhone", label:"WhatsApp", mask:"(00) 00000-0000" },
          { id:"address", label:"Endere√ßo completo" },
          { id:"referencePoint", label:"Ponto de refer√™ncia" },
          { type:"textarea", id:"additional", label:"Al√©m disso, ocorreu" },
          { type:"textarea", id:"example", label:"Exemplo", default:"Cliente orientado sobre procedimentos." }
        ],
        "5. Troca de equipamento": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"clientName", label:"Nome do cliente" },
          { id:"whatsappPhone", label:"WhatsApp", mask:"(00) 00000-0000" },
          { id:"address", label:"Endere√ßo" },
          { id:"referencePoint", label:"Ponto de refer√™ncia" },
          { type:"textarea", id:"description", label:"Descri√ß√£o", default:"Solicitada troca de equipamento." },
          { type:"textarea", id:"additional", label:"Al√©m disso, ocorreu" },
          { type:"textarea", id:"example", label:"Exemplo", default:"Cliente orientado sobre procedimentos." }
        ],
        "6. Troca de senha Wi-fi": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"clientName", label:"Nome do cliente" },
          { id:"whatsappPhone", label:"WhatsApp", mask:"(00) 00000-0000" },
          { id:"clientCode", label:"C√≥digo do cliente" },
          { type:"textarea", id:"description", label:"Descri√ß√£o", default:"Solicitada troca de senha Wi-fi." },
          { id:"newPassword", label:"Nova senha desejada" },
          { type:"textarea", id:"importantInfo", label:"Importante", default:"M√≠n. 8 caracteres; sem acentos ou especiais." },
          { type:"textarea", id:"additional", label:"Al√©m disso, ocorreu" },
          { type:"textarea", id:"example", label:"Exemplo", default:"Cliente orientado sobre procedimentos." }
        ],
        "7. Informa√ß√£o visita t√©cnica ‚Äî Dentro do prazo": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"clientName", label:"Nome do cliente" },
          { type:"textarea", id:"description", label:"Descri√ß√£o", default:"Visita t√©cnica agendada; hor√°rio 08:00‚Äì18:00." },
          { type:"textarea", id:"additional", label:"Al√©m disso, ocorreu" },
          { type:"textarea", id:"note", label:"Observa√ß√£o", default:"Visitas t√©cnicas das 08:00 √†s 18:00." },
          { type:"textarea", id:"example", label:"Exemplo", default:"Cliente orientado sobre hor√°rios." }
        ],
        "7. Informa√ß√£o visita t√©cnica ‚Äî T√©cnico n√£o compareceu": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"clientName", label:"Nome do cliente" },
          { type:"textarea", id:"description", label:"Descri√ß√£o", default:"T√©cnico n√£o compareceu; reagendado." },
          { type:"textarea", id:"additional", label:"Al√©m disso, ocorreu" },
          { type:"textarea", id:"note", label:"Observa√ß√£o", default:"Encaminhar nova ordem de servi√ßo." },
          { type:"textarea", id:"example", label:"Exemplo", default:"Cliente orientado sobre procedimentos." }
        ],
        "7. Informa√ß√£o visita t√©cnica ‚Äî NAP/Equipe de rede": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"clientName", label:"Nome do cliente" },
          { type:"textarea", id:"description", label:"Descri√ß√£o", default:"Encaminhado √† NAP/equipe de rede; prazo de 48 h √∫teis." },
          { type:"textarea", id:"additional", label:"Al√©m disso, ocorreu" },
          { type:"textarea", id:"example", label:"Exemplo", default:"Cliente orientado sobre prazos." }
        ],
        "8. M√°scara de massiva": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { type:"textarea", id:"description", label:"Descri√ß√£o", default:"Enviar para WhatsApp Multiskill:\nBase: NOVA\nCidade:\nBairro:\nC√≥d. do cliente:\nFalha: (x) Total ‚Äì ( ) Parcial" },
          { type:"textarea", id:"additional", label:"Al√©m disso, ocorreu" },
          { type:"textarea", id:"example", label:"Exemplo", default:"Cliente orientado sobre procedimentos." }
        ]
      },
      "Reten√ß√£o": {
        "Instru√ß√µes de Reten√ß√£o": [
          { type:"textarea", id:"importantInfo", label:"Importante", default:"1. Para corp.: n√£o cancelar; encaminhar a pos-vendas@liggavc.com.br\n2. Obter nome da m√£e, contrato e nascimento; sem confer√™ncia n√£o prosseguir." }
        ],
        "1. Visita T√©cnica n√£o realizada ‚Äî Retido": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"ngProtocol", label:"Protocolo do NG" },
          { id:"clientCode", label:"C√≥digo do cliente" },
          { id:"cpfCnpj", label:"CPF/CNPJ" },
          { id:"attendant", label:"Atendente" },
          { id:"requesterName", label:"Nome do solicitante" },
          { id:"originPhone", label:"Telefone origem" },
          { type:"textarea", id:"dissatisfaction", label:"Insatisfa√ß√£o", default:"Cliente solicitou cancelamento devido √† aus√™ncia do t√©cnico." },
          { type:"textarea", id:"solution", label:"Solu√ß√£o/oferta aplicada", default:"Oferta de nova visita t√©cnica; cliente retido." },
          { type:"textarea", id:"additional", label:"Al√©m disso, ocorreu" },
          { type:"textarea", id:"example", label:"Exemplo", default:"Cliente orientado sobre multa contratual." }
        ],
        "1. Visita T√©cnica n√£o realizada ‚Äî Cancelado": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"ngProtocol", label:"Protocolo do NG" },
          { id:"clientCode", label:"C√≥digo do cliente" },
          { id:"cpfCnpj", label:"CPF/CNPJ" },
          { id:"attendant", label:"Atendente" },
          { id:"requesterName", label:"Nome do solicitante" },
          { id:"originPhone", label:"Telefone origem" },
          { type:"textarea", id:"dissatisfaction", label:"Insatisfa√ß√£o", default:"Cliente n√£o aceitou reagendamento." },
          { type:"textarea", id:"solution", label:"Solu√ß√£o/oferta aplicada", default:"Contrato cancelado; retirada de equipamento agendada." },
          { type:"textarea", id:"additional", label:"Al√©m disso, ocorreu" },
          { type:"textarea", id:"example", label:"Exemplo", default:"Cliente orientado sobre servi√ßos." }
        ],
        "2. Motivos Financeiros ‚Äî Retido": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"ngProtocol", label:"Protocolo do NG" },
          { id:"clientCode", label:"C√≥digo do cliente" },
          { id:"cpfCnpj", label:"CPF/CNPJ" },
          { id:"attendant", label:"Atendente" },
          { id:"requesterName", label:"Nome do solicitante" },
          { id:"originPhone", label:"Telefone origem" },
          { type:"textarea", id:"dissatisfaction", label:"Insatisfa√ß√£o", default:"Cliente alega valor acima de suas condi√ß√µes." },
          { type:"textarea", id:"solution", label:"Solu√ß√£o/oferta aplicada", default:"Oferta de desconto de [x]%; cliente retido." },
          { type:"textarea", id:"additional", label:"Al√©m disso, ocorreu" },
          { type:"textarea", id:"example", label:"Exemplo", default:"Cliente orientado sobre multa contratual." }
        ],
        "2. Motivos Financeiros ‚Äî Cancelado": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"ngProtocol", label:"Protocolo do NG" },
          { id:"clientCode", label:"C√≥digo do cliente" },
          { id:"cpfCnpj", label:"CPF/CNPJ" },
          { id:"attendant", label:"Atendente" },
          { id:"requesterName", label:"Nome do solicitante" },
          { id:"originPhone", label:"Telefone origem" },
          { type:"textarea", id:"dissatisfaction", label:"Insatisfa√ß√£o", default:"Cliente n√£o aceitou oferta financeira." },
          { type:"textarea", id:"solution", label:"Solu√ß√£o/oferta aplicada", default:"Contrato cancelado ap√≥s valida√ß√£o." },
          { type:"textarea", id:"additional", label:"Al√©m disso, ocorreu" },
          { type:"textarea", id:"example", label:"Exemplo", default:"Cliente orientado sobre servi√ßos." }
        ],
        "3. Concorr√™ncia ‚Äî Retido": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"ngProtocol", label:"Protocolo do NG" },
          { id:"clientCode", label:"C√≥digo do cliente" },
          { id:"cpfCnpj", label:"CPF/CNPJ" },
          { id:"attendant", label:"Atendente" },
          { id:"requesterName", label:"Nome do solicitante" },
          { id:"originPhone", label:"Telefone origem" },
          { type:"textarea", id:"dissatisfaction", label:"Insatisfa√ß√£o", default:"Oferta mais vantajosa da concorr√™ncia." },
          { type:"textarea", id:"competitor", label:"Concorr√™ncia ‚Äì Empresa e Pre√ßo", default:"Empresa X ‚Äì R$ ___" },
          { type:"textarea", id:"solution", label:"Solu√ß√£o/oferta aplicada", default:"Desconto oferecido; cliente retido." },
          { type:"textarea", id:"additional", label:"Al√©m disso, ocorreu" },
          { type:"textarea", id:"example", label:"Exemplo", default:"Cliente orientado sobre multa." }
        ],
        "3. Concorr√™ncia ‚Äî Cancelado": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"ngProtocol", label:"Protocolo do NG" },
          { id:"clientCode", label:"C√≥digo do cliente" },
          { id:"cpfCnpj", label:"CPF/CNPJ" },
          { id:"attendant", label:"Atendente" },
          { id:"requesterName", label:"Nome do solicitante" },
          { id:"originPhone", label:"Telefone origem" },
          { type:"textarea", id:"dissatisfaction", label:"Insatisfa√ß√£o", default:"Cliente escolheu oferta da concorr√™ncia." },
          { type:"textarea", id:"competitor", label:"Concorr√™ncia ‚Äì Empresa e Pre√ßo", default:"Empresa X ‚Äì R$ ___" },
          { type:"textarea", id:"solution", label:"Solu√ß√£o/oferta aplicada", default:"N√£o aceitou; cancelado." },
          { type:"textarea", id:"additional", label:"Al√©m disso, ocorreu" },
          { type:"textarea", id:"example", label:"Exemplo", default:"Cliente orientado sobre servi√ßos." }
        ]
      },
      "Transfer√™ncias": {
        "1. Reten√ß√£o ‚Äî Solicita√ß√£o de cancelamento": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"clientName", label:"Nome do cliente" },
          { type:"textarea", id:"description", label:"Descri√ß√£o", default:"Solicitou cancelamento; transferido ao setor respons√°vel." }
        ],
        "1. Reten√ß√£o ‚Äî Inviabilidade de fibra": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"clientName", label:"Nome do cliente" },
          { type:"textarea", id:"description", label:"Descri√ß√£o", default:"Sem fibra na nova resid√™ncia; transferido ao respons√°vel." }
        ],
        "2. Supervis√£o": [
          { id:"protocolNumber", label:"N¬∫ do protocolo" },
          { id:"clientName", label:"Nome do cliente" },
          { type:"textarea", id:"description", label:"Descri√ß√£o", default:"Solicitou falar com supervis√£o; transferido." }
        ]
      },
      "Lojas f√≠sicas": {
        "Lojas f√≠sicas (Ligga)": [{ id:"staticLojas", type:"static" }]
      },
      "Telefones / Sites / Emails": {
        "Telefones / Sites / Emails": [{ id:"staticContacts", type:"static" }]
      }
    };

    const lojasHTML = `
      <section class="static-section">
        <h3>Lojas f√≠sicas (Ligga)</h3>
        <ul>
          <li><strong>Campo Largo | PR</strong><br>üìç Av. Ver. Arlindo Chemim, 95 ‚Äî CEP: 83601-180</li>
          <li><strong>Bandeirantes | PR</strong><br>üìç Av. Comendador Luiz Meneghel, 558 ‚Äî CEP: 86360-000</li>
          <li><strong>Fazenda Rio Grande | PR</strong><br>üìç R. Castanheira, 528 ‚Äî CEP: 83820-056</li>
          <li><strong>Foz do Igua√ßu | PR</strong><br>üìç R. Mal. Floriano Peixoto, 936 ‚Äî CEP: 85851-020</li>
          <li><strong>Jacarezinho | PR</strong><br>üìç R. Paran√°, 508 ‚Äî CEP: 86400-000</li>
          <li><strong>Matinhos | PR</strong><br>üìç R. da Fonte, 414 ‚Äî CEP: 83260-000</li>
          <li><strong>Medianeira | PR</strong><br>üìç R. Paran√°, 2384 ‚Äî CEP: 85884-000</li>
          <li><strong>Santo Ant√¥nio da Platina | PR</strong><br>üìç R. Tiradentes, 603 ‚Äî CEP: 86430-000</li>
          <li><strong>Sinop | MT</strong><br>üìç Avenida dos Tarum√£s, 1366 ‚Äî CEP: 78550-043</li>
          <li><strong>Nova Mutum | MT</strong><br>üìç Av. das Araras, 1144 ‚Äî CEP: 78450-000</li>
          <li><strong>S√£o Jos√© dos Pinhais | PR</strong><br>üìç R. Joaquim Nabuco, 2483 ‚Äî CEP: 83005-160</li>
          <li><strong>Paranagu√° | PR</strong><br>üìç Trav. Correia de Freitas, 161 ‚Äî CEP: 83203-260</li>
          <li><strong>Ponta Grossa | PR</strong><br>üìç R. Cel. Dulc√≠dio, 618 ‚Äî CEP: 84010-280</li>
        </ul>
      </section>`;

    const contatosHTML = `
      <section class="static-section">
        <h3>Telefones / Sites / Emails</h3>
        <ul>
          <li><strong>Nova</strong><br>üì± (41) 3907-5656 ‚Äî üìû 0800-027-9750</li>
          <li><strong>Nova Comercial</strong><br>üì± (41) 4042-6160 ‚Äî üìû 0800-400-1070</li>
          <li><strong>Seguro Residencial (Tokio Marine)</strong><br>üì± (11) 99578-6546 ‚Äî üìû 0800-30-86546 ‚Äî üåê tokiomarine.com.br</li>
          <li><strong>Seguro Usebens</strong><br>üì± (21) 97684-7806 ‚Äî üìû 0800-021-8484 ‚Äî üåê usebens.com.br</li>
          <li><strong>Rastreamento Veicular</strong><br>üì± (41) 99537-0834 ‚Äî üìû 0800-942-3232</li>
          <li><strong>Monitoramento</strong><br>üì± (41) 4042-2446</li>
          <li><strong>Ligga</strong><br>üì± (41) 99181-4966 ‚Äî üìû 0800-41-41-810 ‚Äî üåê liggavc.com.br</li>
          <li><strong>Ligga Comercial</strong><br>üì± (41) 4042-6160 ‚Äî üìû 0800-400-1070</li>
          <li><strong>Ligga Corporativo</strong><br>üìû 0800-604-3939</li>
          <li><strong>TRC Taborda</strong><br>üìû (41) 3022-0406</li>
          <li><strong>Services</strong><br>üìû 0800-645-2907</li>
          <li><strong>Ouvidoria Ligga</strong><br>üìû 0800-649-3939 ‚Äî ‚úâÔ∏è ouvidoria@liggavc.com.br</li>
          <li><strong>Consultar CNPJ</strong><br>üåê site Receita Federal</li>
          <li><strong>Comprovante / Duplicidade</strong><br>‚úâÔ∏è comprovante@liggavc.com.br</li>
          <li><strong>Envio de Endere√ßo</strong><br>‚úâÔ∏è comprovantedeendereco@liggavc.com.br</li>
          <li><strong>Certid√µes / Procura√ß√µes / ATAS</strong><br>‚úâÔ∏è contato@liggavc.com.br</li>
          <li><strong>Cliente Corporativo</strong><br>‚úâÔ∏è pos-vendas@liggavc.com.br</li>
        </ul>
      </section>`;

    // elementos
    const menuItems = document.querySelectorAll('#menu li'),
          selTpl    = document.getElementById('template'),
          form      = document.getElementById('form-campos'),
          preview   = document.getElementById('preview'),
          btnCopy   = document.getElementById('btnCopy'),
          btnClear  = document.getElementById('btnClear');
    let imasks = [], currentCat = null;

    // sidebar clique
    menuItems.forEach(item=>{
      item.addEventListener('click',()=>{
        menuItems.forEach(i=>i.classList.remove('active'));
        item.classList.add('active');
        currentCat = item.dataset.cat;
        selTpl.disabled = false;
        selTpl.innerHTML = '<option value="">‚Äî selecione ‚Äî</option>';
        form.innerHTML = '';
        preview.value = '';
        btnCopy.disabled = btnClear.disabled = true;
        imasks.forEach(m=>m.destroy());
        imasks = [];
        Object.keys(config[currentCat]).forEach(tpl=>{
          const o = document.createElement('option');
          o.value = tpl; o.textContent = tpl;
          selTpl.append(o);
        });
      });
    });

    // ao escolher template
    selTpl.addEventListener('change',()=>{
      form.innerHTML = '';
      preview.value = '';
      imasks.forEach(m=>m.destroy());
      imasks = [];
      btnCopy.disabled = btnClear.disabled = true;
      const campos = (config[currentCat]||{})[selTpl.value] || [];
      if(campos.length && campos[0].type==='static'){
        form.innerHTML = currentCat==='Lojas f√≠sicas'? lojasHTML : contatosHTML;
        return;
      }
      const grid = document.createElement('div');
      grid.className = 'fields-grid';
      campos.forEach(c=>{
        const wrap = document.createElement('div');
        wrap.className = 'field';
        if(c.label){
          const lb = document.createElement('label');
          lb.htmlFor = c.id; lb.textContent = c.label;
          wrap.append(lb);
        }
        let inp;
        if(c.type==='textarea'){
          inp = document.createElement('textarea');
          inp.rows = 3;
          if(c.default) inp.value = c.default;
        } else if(c.type==='radio'){
          c.options.forEach(opt=>{
            const rb = document.createElement('input');
            rb.type='radio'; rb.name=c.id; rb.id=c.id+opt; rb.value=opt;
            const lbl = document.createElement('label');
            lbl.htmlFor=rb.id; lbl.textContent=opt;
            wrap.append(rb,lbl);
          });
        } else {
          inp = document.createElement('input');
          inp.type='text';
          if(c.default) inp.value = c.default;
        }
        if(inp){
          inp.id = c.id;
          wrap.append(inp);
          if(c.mask) imasks.push(IMask(inp,{mask:c.mask,lazy:c.lazy!==false}));
        }
        grid.append(wrap);
      });
      form.append(grid);
      btnCopy.disabled = btnClear.disabled = false;
    });

    // copiar
    btnCopy.addEventListener('click',()=>{
      const campos = (config[currentCat]||{})[selTpl.value] || [];
      const lines = [];
      campos.forEach(c=>{
        if(c.type==='static') return;
        let val='';
        if(c.type==='radio'){
          const sel = document.querySelector(`input[name="${c.id}"]:checked`);
          val = sel? sel.value : '';
        } else {
          const el = document.getElementById(c.id);
          val = el? el.value.trim() : '';
        }
        lines.push(`${c.label}: ${val}`);
        if(c.type==='textarea') lines.push('');
      });
      const text = lines.join('\n');
      preview.value = text;
      navigator.clipboard.writeText(text).then(()=>{
        const t = document.getElementById('toast');
        t.style.display='block'; t.style.opacity='1';
        setTimeout(()=>{
          t.style.opacity='0';
          setTimeout(()=>t.style.display='none',300);
        },1200);
      });
    });

    // limpar
    btnClear.addEventListener('click',()=>{
      selTpl.value='';
      form.innerHTML='';
      preview.value='';
      btnCopy.disabled = btnClear.disabled = true;
    });
  </script>
</body>
</html>
